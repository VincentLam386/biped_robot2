<?xml version="1.0"?>
<robot name="ball" xmlns:xacro="http://www.ros.org/wiki/xacro">
  
  <!-- Constants for robot dimensions -->
  <xacro:property name="PI" value="3.1415926535897931"/>
  <xacro:property name="radius" value="0.5" />
  <xacro:property name="mass" value="3" />

  <!--xacro:property name="len" value="100"/>
  <xacro:property name="h" value="1"/>
  <xacro:property name="h" value="-0.5"/-->
  
  <link name="world"/>

  <!--joint name="fixed" type="fixed">
    <parent link="world"/>
    <child link="hip"/>
    <origin xyz="0 0 ${pos_hip}" rpy="0 0 0"/>
  </joint-->
  <!--joint name="prism" type="prismatic">
    <parent link="world"/>
    <child link="hip"/>
    <origin xyz="0 0 0" rpy="0 0 0"/>
    <axis xyz="0 0 1"/>
    <limit effort="1000.0" lower="-0.5" upper="1.5" velocity="10.0"/>
  </joint-->

  <!-- Planar joint -->
  <joint name="planx" type="prismatic">
    <parent link="world"/>
    <child link="x-prism"/>
    <origin xyz="2 0 0.5" rpy="0 0 0"/>
    <axis xyz="1 0 0"/>
    <limit effort="1000.0" lower="-10.0" upper="50.0" velocity="10.0"/>
  </joint>
  <link name="x-prism">
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <box size="${0.0001} ${0.0001} ${0.0001}"/>
      </geometry>
      <material name="orange"/>
    </visual>
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="${1}"/>
      <inertia
        ixx="${1 / 12.0 * (0.0001 + 0.0001)}" ixy="0.0" ixz="0.0"
          iyy="${1 / 12.0 * (0.0001 + 0.0001)}" iyz="0.0"
          izz="${1 / 12.0 * (0.0001 + 0.0001)}" />
    </inertial>
  </link>
  <joint name="planz" type="prismatic">
    <parent link="x-prism"/>
    <child link="z-prism"/>
    <axis xyz="0 0 1"/>
    <origin xyz="0 0 0" rpy="0 0 0"/>
    <limit effort="1000.0" lower="-10.0" upper="50.0" velocity="10.0"/>
  </joint>

  <link name="z-prism">
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <box size="${0.0001} ${0.0001} ${0.0001}"/>
      </geometry>
      <material name="orange"/>
    </visual>

    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="${1}"/>
      <inertia
        ixx="${1 / 12.0 * (0.0001 + 0.0001)}" ixy="0.0" ixz="0.0"
          iyy="${1 / 12.0 * (0.0001 + 0.0001)}" iyz="0.0"
	  izz="${1 / 12.0 * (0.0001 + 0.0001)}" />
    </inertial>
  </link>
  <joint name="rev" type="continuous">
    <parent link="z-prism"/>
    <child link="ball"/>
    <axis xyz="0 1 0"/>
    <origin xyz="0 0 0" rpy="0 0 0"/>
  </joint>
  <!-- End planar joint -->

  <link name="ball">
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <sphere radius="${radius}"/>
      </geometry>
    </collision>
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <sphere radius="${radius}"/>
      </geometry>
      <material name="orange"/>
    </visual>

    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="${mass}"/>
      <inertia
        ixx="${mass / 5 * 2 * radius * radius}" ixy="0.0" ixz="0.0"
          iyy="${mass / 5 * 2 * radius * radius}" iyz="0.0"
          izz="${mass / 5 * 2 * radius * radius}" />
    </inertial>
  </link>

</robot>
